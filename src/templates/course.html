
{% extends "layout.html" %}
{% block content %} 
      <!-- Create Course Buuton Begin -->
        <a href="#" 
        class="ms-5 mt-3 btn btn-primary rounded-circle position-fixed d-flex align-items-center justify-content-center shadow fab-create-course "
        data-bs-toggle="modal"
        data-bs-target="#exampleModal"
        title="Create new course">
        <i class="bi bi-plus-lg fs-4"></i>
        </a>

         <!-- Create Course Buuton End-->
          <!-- Form Modal Begin -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                    
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Create New Course</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal Body with Form -->
                    <div class="modal-body">
                        <form id="createCourseForm">
                        <div class="mb-3">
                            <label for="courseName" class="form-label" >Course Name</label>
                            <input type="text" class="form-control" id="courseName" placeholder="Enter course name" 
                            pattern="^(?=.*[A-Za-z])[A-Za-z0-9 ]+$"
                            title="Only letters and spaces are allowed. Numbers alone are not allowed."
                            required>
                        </div>
                        <div class="mb-3">
                            <label for="numChapters" class="form-label">Number of Chapters</label>
                            <input type="number" class="form-control" id="numChapters" placeholder="Enter number of chapters" min="1" 
                             
                            required>
                        </div>
                        </form>
                    </div>

                    <!-- Modal Footer with Buttons -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="submit" form="createCourseForm" class="btn btn-primary">Submit</button>
                    </div>

                    </div>
                </div>
                </div>
                <!-- Form Modal End -->

                <!-- Courses cards start -->
                <div class="container d-flex justify-content-center" style="margin-top: 12vh;">
                    <div class="w-100" style="max-width: 1100px;">
                        <div id="coursesGrid" class="row g-3">




                        </div>
                        <nav class="mt-4">
                        <ul id="coursesPager" class="pagination justify-content-center mb-0"></ul>
                        </nav>
                    </div>
                </div>
                <!-- Courses cards End -->

                <!-- Modal for edit course start  -->
                <div class="modal fade" id="editCourseModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">

                        <div class="modal-header">
                            <h5 class="modal-title">Rename</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <form id="editCourseForm">
                            <div class="modal-body">
                            <input type="hidden" id="editCourseId">

                            <div class="mb-3">
                                <label class="form-label">Course Name</label>
                                <input type="text" class="form-control" id="editCourseName" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Number of Chapters</label>
                                <input type="number" class="form-control" id="editCourseChapters" min="1" disabled>
                            </div>
                            </div>

                            <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </form>

                        </div>
                    </div>
                </div>
                <!-- Modal for edit course end  -->

                <!-- Delete confirm modal start -->
                 <div class="modal fade" id="deleteCourseModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">

                        <div class="modal-header">
                            <h5 class="modal-title text-danger">Delete Course</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <div class="modal-body">
                            <input type="hidden" id="deleteCourseId">
                            <p class="mb-0">
                            Are you sure you want to delete <strong id="deleteCourseName"></strong>?
                            </p>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                            <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Yes, Delete</button>
                        </div>

                        </div>
                    </div>
                 </div>
                    <!-- Delete Confirm modal end -->
 {% endblock content %} 

{% block scripts %}
  <script>

    window.__courses = {{ courses_json | tojson }};
  </script>
    <script src="/static/js/create_course.js"></script>
{% endblock scripts %}

